import{r as l,C as j,R as y}from"./fiber-ec14dbd2.js";import{C as v,F as k,G as _,E as N,b as h,H as L,c as E}from"./drei-fe3553ed.js";import{u,b as i,L as S}from"./leva-fc479a02.js";import"./three-f1e33f10.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}})();var g={exports:{}},x={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P=l,R=Symbol.for("react.element"),O=Symbol.for("react.fragment"),C=Object.prototype.hasOwnProperty,T=P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I={key:!0,ref:!0,__self:!0,__source:!0};function b(r,t,a){var n,s={},o=null,d=null;a!==void 0&&(o=""+a),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(d=t.ref);for(n in t)C.call(t,n)&&!I.hasOwnProperty(n)&&(s[n]=t[n]);if(r&&r.defaultProps)for(n in t=r.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:R,type:r,key:o,ref:d,props:s,_owner:T.current}}x.Fragment=O;x.jsx=b;x.jsxs=b;g.exports=x;var e=g.exports;const M=Math.PI/180;function f(r){return r*M}const c=["intro","titanium","camera","action-button"],A=({section:r,onSectionChange:t})=>{const[a,n]=l.useState(!1);return l.useEffect(()=>{setTimeout(()=>{n(!0)},2e3)},[]),e.jsxs("main",{className:"fixed inset-0 flex flex-col p-6 pointer-events-none select-none",children:[e.jsxs("div",{className:"flex flex-1 items-center justify-between text-white",children:[e.jsx("button",{"aria-label":"Previous section",className:"pointer-events-auto inline-flex items-center justify-center h-9 w-9 rounded-full bg-white/10 hover:bg-white/20 active:bg-white/25 transition-[background,transform,opacity] duration-200 shadow-lg backdrop-blur-md ring-1 ring-white/15 hover:-translate-x-0.5",onClick:()=>t(r===0?c.length-1:r-1),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,className:"w-4 h-4 drop-shadow",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5"})})}),e.jsxs("div",{className:"relative flex-1 h-full",children:[e.jsx("section",{className:`absolute inset-4 flex flex-col items-center justify-center text-center transition-opacity duration-1000 ${c[r]==="intro"&&a?"opacity-100":"opacity-0"}`,children:e.jsxs("div",{className:"mx-auto max-w-xl rounded-xl bg-black/20 backdrop-blur-md ring-1 ring-white/10 px-5 py-4 shadow-[0_8px_30px_-10px_rgba(0,0,0,0.6)]",children:[e.jsx("h1",{className:"text-xl md:text-2xl font-semibold text-white tracking-tight",children:"iPhone 17 Pro Max"}),e.jsx("p",{className:"mt-1 text-3xl md:text-5xl font-bold text-white/90 tracking-tight leading-none",children:"Cosmic Orange"})]})}),e.jsx("section",{className:`absolute inset-4 flex flex-col justify-end text-center transition-opacity duration-1000 ${c[r]==="titanium"?"opacity-100":"opacity-0"}`,children:e.jsxs("div",{className:"mx-auto max-w-md rounded-xl bg-black/25 backdrop-blur-md ring-1 ring-white/10 px-5 py-4 shadow-[0_8px_25px_-10px_rgba(0,0,0,0.6)]",children:[e.jsx("h1",{className:"text-lg font-semibold text-white tracking-tight",children:"Titanium Strength"}),e.jsx("p",{className:"text-white/80 mt-1 text-sm",children:"Built to last."})]})}),e.jsx("section",{className:`absolute inset-4 flex flex-col justify-end text-center transition-opacity duration-1000 ${c[r]==="camera"?"opacity-100":"opacity-0"}`,children:e.jsxs("div",{className:"mx-auto max-w-md rounded-xl bg-black/25 backdrop-blur-md ring-1 ring-white/10 px-5 py-4 shadow-[0_8px_25px_-10px_rgba(0,0,0,0.6)]",children:[e.jsx("h1",{className:"text-lg font-semibold text-white tracking-tight",children:"Pro Camera"}),e.jsx("p",{className:"text-white/80 mt-1 text-sm",children:"Every shot, perfect."})]})}),e.jsx("section",{className:`absolute inset-4 flex flex-col justify-end text-center transition-opacity duration-1000 ${c[r]==="action-button"?"opacity-100":"opacity-0"}`,children:e.jsxs("div",{className:"mx-auto max-w-md rounded-xl bg-black/25 backdrop-blur-md ring-1 ring-white/10 px-5 py-4 shadow-[0_8px_25px_-10px_rgba(0,0,0,0.6)]",children:[e.jsx("h1",{className:"text-lg font-semibold text-white tracking-tight",children:"Action Button"}),e.jsx("p",{className:"text-white/80 mt-1 text-sm",children:"Press. Hold. Go."})]})})]}),e.jsx("button",{"aria-label":"Next section",className:"pointer-events-auto inline-flex items-center justify-center h-9 w-9 rounded-full bg-white/10 hover:bg-white/20 active:bg-white/25 transition-[background,transform,opacity] duration-200 shadow-lg backdrop-blur-md ring-1 ring-white/15 hover:translate-x-0.5",onClick:()=>t(r===c.length-1?0:r+1),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,className:"w-4 h-4 drop-shadow",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"})})})]}),e.jsx("div",{className:"flex justify-center items-center gap-2 mt-3",children:c.map((s,o)=>e.jsx("button",{"aria-label":`Go to ${s}`,className:`pointer-events-auto group inline-flex items-center h-2.5 rounded-full border border-white/50 overflow-hidden transition-[width,opacity,background] duration-200 ${r===o?"w-5 bg-white":"w-2.5 bg-transparent hover:bg-white/30"}`,onClick:()=>t(o),children:e.jsx("span",{className:"sr-only",children:s})},s))})]})},B={intro:[-.8408130777453015,-.5579311237409535,-1.2494838493879465,.09186000885066517,-.013170057989714374,-.15707536590700685],titanium:[-.2022697040455287,-.26852559537182874,-.19356238473511142,-.06024400385902626,-.013170057989714379,-.027212479301132964],camera:[-.05686373257404011,.05459247759151993,-.4174079876311954,.007651361152447588,.1738224439733183,-.10971973822747505],"action-button":[-.88612937193474,-.4964915367233699,.003459464080557469,-.015160554557400105,.16977404132378549,.0015889919991764756]},F={intro:[-.9168650841001468,-.5579311237409535,-1.18455240608501,.015808002495819512,-.013170057989714375,-.09214392260406992],titanium:[-.1708158290825758,-.5937539065692604,-.4482987464721301,-.06614990520729945,-.04334453556892756,-.13251272669096392],camera:[-.06895429178639603,-.11184089815513104,-.3512963624485244,.04067845278335647,.15194615506419323,.018620683161410793],"action-button":[-.6259770949105332,-.2529443173252278,-.004747347677011271,-.02485857424975495,.1912378489798071,-.013710853350645076]},$=900,G=({section:r})=>{const t=l.useRef(),a=l.useRef(),n=l.useRef();u("settings",{smoothTime:{value:.35,min:.1,max:2,step:.01,onChange:m=>t.current.smoothTime=m}}),u("dolly",{in:i(()=>{t.current.dolly(.2,!0)}),out:i(()=>{t.current.dolly(-.2,!0)})}),u("truck",{up:i(()=>{t.current.truck(0,-.1,!0)}),left:i(()=>{t.current.truck(-.1,0,!0)}),down:i(()=>{t.current.truck(0,.1,!0)}),right:i(()=>{t.current.truck(.1,0,!0)})}),u("rotate",{up:i(()=>{t.current.rotate(0,-.5,!0)}),down:i(()=>{t.current.rotate(0,.5,!0)}),left:i(()=>{t.current.rotate(-.5,0,!0)}),right:i(()=>{t.current.rotate(.5,0,!0)})}),u("fit",{fitToBox:i(()=>{t.current.fitToSphere(a.current,!0)}),fitToSphere:i(()=>{t.current.fitToSphere(n.current,!1)})});const[s,o]=l.useState(!1),d=async()=>{t.current.setLookAt(0,0,5,0,0,0,!1),await t.current.dolly(3,!0),await t.current.rotate(f(45),f(25),!0),o(!0),p()},p=()=>{window.innerWidth>$?t.current.setLookAt(...B[c[r]],!0):t.current.setLookAt(...F[c[r]],!0)};return u("Helper",{getLookAt:i(()=>{const m=t.current.getPosition(),w=t.current.getTarget();console.log([...m,...w])}),toJson:i(()=>console.log(t.current.toJSON()))}),l.useEffect(()=>{d()},[]),l.useEffect(()=>{s&&p()},[r]),e.jsxs(e.Fragment,{children:[e.jsx(v,{ref:t,mouseButtons:{left:0,middle:0,right:0,wheel:0},touches:{one:0,two:0,three:0}}),e.jsxs("mesh",{ref:a,visible:!1,children:[e.jsx("boxGeometry",{args:[.5,.8,.2]}),e.jsx("meshBasicMaterial",{color:"mediumpurple",wireframe:!0})]}),e.jsxs("mesh",{ref:n,visible:!1,children:[e.jsx("sphereGeometry",{args:[.36,64]}),e.jsx("meshBasicMaterial",{color:"hotpink",wireframe:!0})]}),e.jsx(k,{speed:.5,rotationIntensity:1.5,floatIntensity:1.5,enabled:!1,children:e.jsx(_,{position:[0,0,0],scale:3,src:"models/apple_iphone_17_pro_max.glb"})}),e.jsx("group",{"rotation-y":Math.PI,children:e.jsx(N,{preset:"warehouse",blur:!0})})]})};function H(){const{progress:r}=h(),t=Math.round(r);return e.jsxs(L,{center:!0,children:[e.jsxs("div",{className:"loader",children:[e.jsx("div",{className:"loader-bar",children:e.jsx("div",{className:"loader-bar-fill",style:{width:`${t}%`}})}),e.jsxs("div",{className:"loader-text",children:[t,"%"]})]}),e.jsx("style",{children:`
        .loader {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 0.6rem;
          min-width: 200px;
          padding: 1rem 1.5rem;
          border-radius: 14px;
          background: rgba(255, 255, 255, 0.06);
          backdrop-filter: blur(10px);
          color: #fff;
          font-family: system-ui, -apple-system, sans-serif;
          box-shadow: 0 4px 30px rgba(0, 0, 0, 0.25);
        }

        .loader-bar {
          width: 100%;
          height: 8px;
          border-radius: 10px;
          background: rgba(255, 255, 255, 0.15);
          overflow: hidden;
        }

        .loader-bar-fill {
          height: 100%;
          border-radius: 10px;
          background: linear-gradient(
            90deg,
            #ff6a00,
            #ff9400
          );
          transition: width 0.3s ease;
        }

        .loader-text {
          font-size: 0.9rem;
          letter-spacing: 0.05em;
          opacity: 0.9;
        }
      `})]})}function D({children:r}){const{active:t}=h();return t?null:r}function U(){const[r,t]=l.useState(0),{active:a}=h();return e.jsxs(e.Fragment,{children:[e.jsx(S,{hidden:!0}),e.jsxs(j,{camera:{position:[0,0,3],fov:30},children:[e.jsx("color",{attach:"background",args:["#111"]}),e.jsx(l.Suspense,{fallback:e.jsx(H,{}),children:e.jsx("group",{children:e.jsx(G,{section:r})})})]}),e.jsx(D,{children:!a&&e.jsx(A,{section:r,onSectionChange:t})})]})}E.createRoot(document.getElementById("root")).render(e.jsx(y.StrictMode,{children:e.jsx(U,{})}));
